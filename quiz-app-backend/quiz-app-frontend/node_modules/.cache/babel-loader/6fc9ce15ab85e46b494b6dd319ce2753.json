{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import\"antd/es/button/style\";import _Button from\"antd/es/button\";import\"antd/es/form/style\";import _Form from\"antd/es/form\";import\"antd/es/input/style\";import _Input from\"antd/es/input\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd/es/notification/style\";import _notification from\"antd/es/notification\";import _classCallCheck from\"C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from'react';import{Link}from'react-router-dom';import'./Login.css';import{login}from'../../api/Api';import{ACCESS_TOKEN}from'../../common/constants';import{UserAddOutlined,LockOutlined}from'@ant-design/icons';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleSubmit=function(values){//const loginRequest = Object.assign({}, values);\nlogin(values).then(function(response){localStorage.setItem(ACCESS_TOKEN,response.accessToken);console.log(response.accessToken);_this.props.onLogin();}).catch(function(error){if(error.status===401){_notification.error({message:'Quiz App',description:'Nazwa uzytkownika lub hasło nieprawidłowe.Spróbuj ponownie!'});}else{console.log('response: ',error.data);_notification.error({message:'Quiz App',description:error.message||'Błąd!'});}});};_this.state={name:{value:''},password:{value:''}};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-title\",children:\"Logowanie\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-content\",children:/*#__PURE__*/_jsxs(_Form,{onFinish:this.handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(_Form.Item,{name:\"name\",rules:[{required:true,message:'Wpisz nazwę użytkownika!'}],children:/*#__PURE__*/_jsx(_Input,{prefix:/*#__PURE__*/_jsx(UserAddOutlined,{}),size:\"large\",placeholder:\"Nazwa u\\u017Cytkownika\"})}),/*#__PURE__*/_jsx(_Form.Item,{name:\"password\",rules:[{required:true,message:'Wpisz hasło!'}],children:/*#__PURE__*/_jsx(_Input,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),size:\"large\",type:\"password\",placeholder:\"Has\\u0142o\"})}),/*#__PURE__*/_jsxs(_Form.Item,{children:[/*#__PURE__*/_jsx(_Button,{type:\"primary\",htmlType:\"submit\",size:\"large\",className:\"login-button\",children:\"Zaloguj si\\u0119\"}),\"lub \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"zarejestruj si\\u0119!\"})]})]})})]});}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/Albert/eclipse-workspace/QuizApp/quiz-app-backend/quiz-app-frontend/src/user/login/Login.js"],"names":["Component","Link","login","ACCESS_TOKEN","UserAddOutlined","LockOutlined","Login","props","handleSubmit","values","then","response","localStorage","setItem","accessToken","console","log","onLogin","catch","error","status","message","description","data","state","name","value","password","bind","required"],"mappings":"ozCACA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,aAAP,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,YAAT,KAA6B,wBAA7B,CAEA,OAASC,eAAT,CAAyBC,YAAzB,KAA6C,mBAA7C,C,GAKMC,CAAAA,K,8FACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAenBC,YAfmB,CAeL,SAACC,MAAD,CAAY,CAEtB;AACAP,KAAK,CAACO,MAAD,CAAL,CACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CACdC,YAAY,CAACC,OAAb,CAAqBV,YAArB,CAAmCQ,QAAQ,CAACG,WAA5C,EACAC,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACG,WAArB,EACA,MAAKP,KAAL,CAAWU,OAAX,GACC,CALL,EAKOC,KALP,CAKa,SAAAC,KAAK,CAAI,CACd,GAAGA,KAAK,CAACC,MAAN,GAAiB,GAApB,CAAyB,CACrB,cAAaD,KAAb,CAAmB,CACfE,OAAO,CAAE,UADM,CAEfC,WAAW,CAAE,6DAFE,CAAnB,EAIH,CALD,IAKO,CACHP,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BG,KAAK,CAACI,IAAhC,EACA,cAAaJ,KAAb,CAAmB,CACfE,OAAO,CAAE,UADM,CAEfC,WAAW,CAAEH,KAAK,CAACE,OAAN,EAAiB,OAFf,CAAnB,EAIH,CACR,CAlBD,EAmBH,CArCkB,CAEf,MAAKG,KAAL,CAAW,CACPC,IAAI,CAAC,CACFC,KAAK,CAAE,EADL,CADE,CAIPC,QAAQ,CAAC,CACLD,KAAK,CAAC,EADD,CAJF,CAAX,CASA,MAAKlB,YAAL,CAAoB,MAAKA,YAAL,CAAkBoB,IAAlB,+BAApB,CAXe,aAYlB,C,yDA6BQ,CAIL,mBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,WAAI,SAAS,CAAC,aAAd,uBADJ,cAEI,YAAK,SAAS,CAAC,eAAf,uBACI,aAAM,QAAQ,CAAE,KAAKpB,YAArB,CAAmC,SAAS,CAAC,YAA7C,wBACI,WAAM,IAAN,EAAW,IAAI,CAAC,MAAhB,CAAuB,KAAK,CAAE,CAAC,CAAEqB,QAAQ,CAAE,IAAZ,CAAkBR,OAAO,CAAE,0BAA3B,CAAD,CAA9B,uBACI,aACI,MAAM,cAAE,KAAC,eAAD,IADZ,CAEI,IAAI,CAAC,OAFT,CAGI,WAAW,CAAC,wBAHhB,EADJ,EADJ,cASI,WAAM,IAAN,EAAW,IAAI,CAAC,UAAhB,CAA2B,KAAK,CAAE,CAAC,CAAEQ,QAAQ,CAAE,IAAZ,CAAkBR,OAAO,CAAE,cAA3B,CAAD,CAAlC,uBACI,aACI,MAAM,cAAE,KAAC,YAAD,IADZ,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,UAHT,CAII,WAAW,CAAC,YAJhB,EADJ,EATJ,cAkBQ,YAAM,IAAN,yBACI,cAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,CAAyC,IAAI,CAAC,OAA9C,CACA,SAAS,CAAC,cADV,8BADJ,qBAGQ,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,mCAHR,GAlBR,GADJ,EAFJ,GADJ,CAgCH,C,mBA9EerB,S,EAoFpB,cAAeM,CAAAA,KAAf","sourcesContent":["import { Button, Input,Form, notification } from 'antd';\r\nimport { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Login.css';\r\nimport  {login}  from '../../api/Api';\r\nimport { ACCESS_TOKEN } from '../../common/constants';\r\n\r\nimport { UserAddOutlined,LockOutlined } from '@ant-design/icons';\r\n\r\n\r\n\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            name:{\r\n               value: ''\r\n            },\r\n            password:{\r\n                value:''\r\n            }\r\n        }\r\n        \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n     \r\n    handleSubmit =(values)=>  {\r\n\r\n        //const loginRequest = Object.assign({}, values);\r\n        login(values)\r\n        .then(response => {\r\n            localStorage.setItem(ACCESS_TOKEN, response.accessToken);\r\n            console.log(response.accessToken);\r\n            this.props.onLogin();\r\n            }).catch(error => {\r\n                if(error.status === 401) {\r\n                    notification.error({\r\n                        message: 'Quiz App',\r\n                        description: 'Nazwa uzytkownika lub hasło nieprawidłowe.Spróbuj ponownie!'\r\n                    });                    \r\n                } else {\r\n                    console.log('response: ', error.data);\r\n                    notification.error({\r\n                        message: 'Quiz App',\r\n                        description: error.message || 'Błąd!'\r\n                    });                                            \r\n                }\r\n        });\r\n    }\r\n    \r\n    \r\n\r\n    render() {\r\n        \r\n\r\n        \r\n        return (\r\n            <div className=\"login-container\">\r\n                <h1 className=\"login-title\">Logowanie</h1>\r\n                <div className=\"login-content\">\r\n                    <Form onFinish={this.handleSubmit} className=\"login-form\">\r\n                        <Form.Item name=\"name\" rules={[{ required: true, message: 'Wpisz nazwę użytkownika!' }]}>\r\n                            <Input \r\n                                prefix={<UserAddOutlined />}\r\n                                size=\"large\"\r\n                                placeholder=\"Nazwa użytkownika\"\r\n                                />    \r\n                            \r\n                        </Form.Item>\r\n                        <Form.Item name=\"password\" rules={[{ required: true, message: 'Wpisz hasło!' }]}>\r\n                            <Input \r\n                                prefix={<LockOutlined />}\r\n                                size=\"large\"\r\n                                type=\"password\" \r\n                                placeholder=\"Hasło\" \r\n                                />                        \r\n                            \r\n                        </Form.Item>\r\n                            <Form.Item>\r\n                                <Button type=\"primary\" htmlType=\"submit\" size=\"large\"\r\n                                className=\"login-button\">Zaloguj się</Button>\r\n                                lub <Link to=\"/signup\">zarejestruj się!</Link>\r\n                            </Form.Item>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n                          \r\n        );\r\n    }\r\n\r\n      \r\n}\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}