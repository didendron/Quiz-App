(this["webpackJsonpquiz-app-frontend"]=this["webpackJsonpquiz-app-frontend"]||[]).push([[0],{164:function(e,t,a){},166:function(e,t,a){},170:function(e,t,a){},239:function(e,t,a){},307:function(e,t,a){},314:function(e,t,a){},318:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(0),i=a(22),r=a.n(i),o=(a(164),a(35)),c=(a(74),a(42)),u=a(36),l=a(37),h=a(20),d=a(40),j=a(39),b=a(84),m=a.n(b),g=a(27),v=(a(166),a(167),a(60)),p=a(31),O=(a(170),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleMenuClick=s.handleMenuClick.bind(Object(h.a)(s)),s}return Object(l.a)(a,[{key:"handleMenuClick",value:function(e){"logout"===e.key&&this.props.onLogout()}},{key:"render",value:function(){var e;return e=this.props.currentUser?[Object(s.jsx)(v.a.Item,{children:Object(s.jsx)(p.b,{to:"/new",children:"Nowy Quiz"})},"/new"),Object(s.jsx)(v.a.Item,{className:"logout",children:"Wyloguj si\u0119"},"logout"),Object(s.jsxs)(v.a.Item,{className:"user",children:["@",this.props.currentUser]},"user")]:[Object(s.jsx)(v.a.Item,{children:Object(s.jsx)(p.b,{to:"/new",children:"Nowy Quiz"})},"/new"),Object(s.jsx)(v.a.Item,{children:Object(s.jsx)(p.b,{to:"/login",children:"Logowanie"})},"/login"),Object(s.jsx)(v.a.Item,{children:Object(s.jsx)(p.b,{to:"/signup",children:"Rejestracja"})},"/signup")],Object(s.jsx)(b.Header,{className:"app-header",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"app-title",children:Object(s.jsx)(p.b,{to:"/",children:"Quiz App"})}),Object(s.jsx)(v.a,{onClick:this.handleMenuClick,className:"app-menu",mode:"horizontal",selectedKeys:[this.props.location.pathname],style:{lineHeight:"64px"},children:e})]})})}}]),a}(n.Component)),f=Object(g.g)(O),x=a(92),z=(a(79),a(43)),y=(a(117),a(29)),q=(a(112),a(59)),C=(a(239),"accessToken"),w=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(C)&&t.append("Authorization","Bearer "+localStorage.getItem(C));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}))};var k=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).validateName=function(e){return e.length<4?{validateStatus:"error",errorMsg:"Nazwa za kr\xf3tka (Minimum ".concat(4," znak\xf3w.)")}:e.length>40?{validateStatus:"error",errorMsg:"Nazwa za d\u0142uga (Maximum ".concat(40," znak\xf3w.)")}:{validateStatus:"success",errorMsg:null}},s.validatePassword=function(e){return e.length<6?{validateStatus:"error",errorMsg:"Has\u0142o za kr\xf3tkie (Minimum ".concat(6," znak\xf3w.)")}:e.length>20?{validateStatus:"error",errorMsg:"Has\u0142o za d\u0142ugie (Maximum ".concat(20," znak\xf3w.)")}:{validateStatus:"success",errorMsg:null}},s.state={name:{value:""},password:{value:""}},s.handleInputChange=s.handleInputChange.bind(Object(h.a)(s)),s.checkNameAvailability=s.checkNameAvailability.bind(Object(h.a)(s)),s.checkPasswordAvailability=s.checkPasswordAvailability.bind(Object(h.a)(s)),s.isFormInvalid=s.isFormInvalid.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"signup-container",children:[Object(s.jsx)("h1",{className:"signup-title",children:"Rejestracja"}),Object(s.jsx)("div",{className:"signup-content",children:Object(s.jsxs)(y.a,{onSubmit:this.handleSubmit,className:"signup-form",children:[Object(s.jsx)(y.a.Item,{label:"Nazwa u\u017cytkownika",validateStatus:this.state.name.validateStatus,help:this.state.name.errorMsg,children:Object(s.jsx)(q.a,{size:"large",name:"name",autoComplete:"off",placeholder:"Twoja nazwa u\u017cytkownika",value:this.state.name.value,onBlur:this.checkNameAvailability,onChange:function(t){return e.handleInputChange(t,e.validateName)}})}),Object(s.jsx)(y.a.Item,{label:"Has\u0142o",validateStatus:this.state.password.validateStatus,help:Object(s.jsx)("label",{style:{paddingLeft:"85px"},children:this.state.password.errorMsg}),children:Object(s.jsx)(q.a,{size:"large",name:"password",type:"password",autoComplete:"off",placeholder:"Has\u0142o pomi\u0119dzy 6 a 20 znakami",value:this.state.password.value,onBlur:this.checkPasswordAvailability,onChange:function(t){return e.handleInputChange(t,e.validatePassword)}})}),Object(s.jsxs)(y.a.Item,{children:[Object(s.jsx)(z.a,{type:"primary",htmlType:"submit",size:"large",className:"signup-button",disabled:this.isFormInvalid(),onClick:this.handleSubmit,children:"Zarejestruj si\u0119"}),"Jeste\u015b zarejestrowany? ",Object(s.jsx)(p.b,{to:"/login",children:"Zaloguj si\u0119!"})]})]})})]})}},{key:"handleInputChange",value:function(e,t){var a=e.target.name,s=e.target.value;this.setState(Object(x.a)({},a,Object(o.a)({value:s},t(s))))}},{key:"checkNameAvailability",value:function(){var e,t=this,a=this.state.name.value;"error"!==this.validateName(a).validateStatus?(e=a,w({url:"/api/username?name="+e,method:"GET"})).then((function(e){console.log(e.isAvailable),e.isAvailable?t.setState({name:{value:a,validateStatus:"success",errorMsg:null}}):t.setState({name:{value:a,validateStatus:"error",errorMsg:"Nazwa u\u017cytkownika ju\u017c istnieje"}})})).catch((function(e){t.setState({name:{value:a,validateStatus:"success",errorMsg:null}})})):this.setState({name:Object(o.a)({value:a},this.validateName(a))})}},{key:"checkPasswordAvailability",value:function(){var e,t=this,a=this.state.password.value;"error"!==this.validatePassword(a).validateStatus?(e=a,w({url:"/api/userpassword?password="+e,method:"GET"})).then((function(e){e.isAvailable?t.setState({password:{value:a,validateStatus:"success",errorMsg:null}}):t.setState({password:{value:a,validateStatus:"error",errorMsg:"Has\u0142o ju\u017c istnieje"}})})).catch((function(e){t.setState({password:{value:a,validateStatus:"success",errorMsg:null}})})):this.setState({password:Object(o.a)({value:a},this.validatePassword(a))})}},{key:"isFormInvalid",value:function(){return!("success"===this.state.name.validateStatus&&"success"===this.state.password.validateStatus)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return w({url:"/api/signup",method:"POST",body:JSON.stringify(e)})}({name:this.state.name.value,password:this.state.password.value}).then((function(e){c.a.success({message:"Quiz App",description:"Rejestracja przebieg\u0142a pomy\u015blnie.Zaloguj si\u0119"}),t.props.history.push("/login")})).catch((function(e){c.a.error({message:"Quiz App",description:e.message||"B\u0142\u0105d!Spr\xf3buj ponownie"})}))}}]),a}(n.Component),S=(a(307),a(328)),N=a(329),I=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleSubmit=function(e){var t;(t=e,w({url:"/api/login",method:"POST",body:JSON.stringify(t)})).then((function(e){localStorage.setItem(C,e.accessToken),console.log(e.accessToken),s.props.onLogin()})).catch((function(e){401===e.status?c.a.error({message:"Quiz App",description:"Nazwa uzytkownika lub has\u0142o nieprawid\u0142owe.Spr\xf3buj ponownie!"}):(console.log("response: ",e.data),c.a.error({message:"Quiz App",description:e.message||"B\u0142\u0105d!"}))}))},s.state={name:{value:""},password:{value:""}},s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"login-container",children:[Object(s.jsx)("h1",{className:"login-title",children:"Logowanie"}),Object(s.jsx)("div",{className:"login-content",children:Object(s.jsxs)(y.a,{onFinish:this.handleSubmit,className:"login-form",children:[Object(s.jsx)(y.a.Item,{name:"name",rules:[{required:!0,message:"Wpisz nazw\u0119 u\u017cytkownika!"}],children:Object(s.jsx)(q.a,{prefix:Object(s.jsx)(S.a,{}),size:"large",placeholder:"Nazwa u\u017cytkownika"})}),Object(s.jsx)(y.a.Item,{name:"password",rules:[{required:!0,message:"Wpisz has\u0142o!"}],children:Object(s.jsx)(q.a,{prefix:Object(s.jsx)(N.a,{}),size:"large",type:"password",placeholder:"Has\u0142o"})}),Object(s.jsxs)(y.a.Item,{children:[Object(s.jsx)(z.a,{type:"primary",htmlType:"submit",size:"large",className:"login-button",children:"Zaloguj si\u0119"}),"lub ",Object(s.jsx)(p.b,{to:"/signup",children:"zarejestruj si\u0119!"})]})]})})]})}}]),a}(n.Component),M=a(157),Q=function(e){var t=e.component,a=e.authenticated,n=Object(M.a)(e,["component","authenticated"]);return Object(s.jsx)(g.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return a?Object(s.jsx)(t,Object(o.a)(Object(o.a)({},n),e)):Object(s.jsx)(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},A=(a(308),a(73)),L=(a(310),a(155)),T=(a(325),a(54)),P=a(124),J=a(330),U=a(103),R=a(123),B=a.n(R);a(314);function E(e){var t=[];return e.question.choices.forEach((function(a,n){t.push(Object(s.jsx)(F,{choice:a,choiceNumber:n,questionNumber:e.questionNumber,handleChoiceChange:e.handleChoiceChange},n))})),Object(s.jsxs)(y.a.Item,{validateStatus:e.question.question.validateStatus,help:e.question.question.errorMsg,className:"form-row",children:[Object(s.jsx)(B.a,{placeholder:"Pytanie "+(e.questionNumber+1),style:{fontSize:"16px"},autosize:{minRows:2,maxRows:4},name:"question",value:e.question.question.text,onChange:function(t){return e.handleQuestionChange(t,e.questionNumber)}}),e.questionNumber>0?Object(s.jsx)(U.a,{className:"dynamic-delete-button",disabled:e.questionNumber<1,onClick:function(){return e.removeQuestion(e.questionNumber)}}):null,t,Object(s.jsxs)(y.a.Item,{className:"form-row",children:["Poprawna odpowied\u017a:",Object(s.jsxs)(A.a.Group,{onChange:function(t){return e.handleRadioChange(t,e.questionNumber)},children:[Object(s.jsx)(A.a,{value:1,children:"Odp.1"}),Object(s.jsx)(A.a,{value:2,children:"Odp.2"}),Object(s.jsx)(A.a,{value:3,children:"Odp.3"}),Object(s.jsx)(A.a,{value:4,children:"Odp.4"})]})]})]})}function F(e){return Object(s.jsx)(y.a.Item,{validateStatus:e.choice.validateStatus,help:e.choice.errorMsg,className:"form-row",children:Object(s.jsx)(q.a,{placeholder:"Odpowied\u017a "+(e.choiceNumber+1),size:"large",value:e.choice.text,onChange:function(t){return e.handleChoiceChange(t,e.choiceNumber,e.questionNumber)}})})}var V=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).validateQuizName=function(e){return 0===e.length?{validateStatus:"error",errorMsg:"Wpisz nazw\u0119 quizu!"}:e.length>140?{validateStatus:"error",errorMsg:"Nazwa quizu za d\u0142uga (Maksymalnie ".concat(140," znak\xf3w dozwolone)")}:{validateStatus:"success",errorMsg:null}},s.validateQuestion=function(e){return 0===e.length?{validateStatus:"error",errorMsg:"Wpisz pytanie!"}:e.length>100?{validateStatus:"error",errorMsg:"Pytanie za d\u0142ugie (Maksymalnie ".concat(100," znak\xf3w dozwolone)")}:{validateStatus:"success",errorMsg:null}},s.validateChoice=function(e){return 0===e.length?{validateStatus:"error",errorMsg:"Wpisz odpowied\u017a!"}:e.length>60?{validateStatus:"error",errorMsg:"Odpowied\u017a (Maksymalnie ".concat(60," znak\xf3w dozwolone)")}:{validateStatus:"success",errorMsg:null}},s.state={quiz:{text:""},category:{text:""},questions:[{question:{text:""},choices:[{text:""},{text:""},{text:""},{text:""}],correctChoice:{text:""}}]},s.handleQuizChange=s.handleQuizChange.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s.handleCategoryChange=s.handleCategoryChange.bind(Object(h.a)(s)),s.addChoice=s.addChoice.bind(Object(h.a)(s)),s.removeQuestion=s.removeQuestion.bind(Object(h.a)(s)),s.handleQuestionChange=s.handleQuestionChange.bind(Object(h.a)(s)),s.handleChoiceChange=s.handleChoiceChange.bind(Object(h.a)(s)),s.handleRadioChange=s.handleRadioChange.bind(Object(h.a)(s)),s.isFormInvalid=s.isFormInvalid.bind(Object(h.a)(s)),s}return Object(l.a)(a,[{key:"addChoice",value:function(e){var t=this.state.questions.slice();this.setState({questions:t.concat([{question:{text:""},choices:[{text:""},{text:""},{text:""},{text:""}],correctChoice:{text:""}}])})}},{key:"removeQuestion",value:function(e){var t=this.state.questions.slice();this.setState({questions:[].concat(Object(P.a)(t.slice(0,e)),Object(P.a)(t.slice(e+1)))})}},{key:"handleQuizChange",value:function(e){var t=e.target.value;this.setState({quiz:Object(o.a)({text:t},this.validateQuizName(t))})}},{key:"handleCategoryChange",value:function(e){this.setState({category:{text:e}})}},{key:"handleQuestionChange",value:function(e,t){var a=this,s=e.target.value;this.setState((function(e){var n=JSON.parse(JSON.stringify(e));return n.questions[t].question.text=s,n.questions[t].question.validateStatus=a.validateQuestion(s).validateStatus,n.questions[t].question.errorMsg=a.validateQuestion(s).errorMsg,{questions:n.questions}}))}},{key:"handleChoiceChange",value:function(e,t,a){var s=this,n=e.target.value;this.setState((function(e){var i=JSON.parse(JSON.stringify(e));return i.questions[a].choices[t].text=n,i.questions[a].choices[t].validateStatus=s.validateChoice(n).validateStatus,i.questions[a].choices[t].errorMsg=s.validateChoice(n).errorMsg,{questions:i.questions}}))}},{key:"handleRadioChange",value:function(e,t){var a=e.target.value,s=this.state.questions[t].choices[a-1].text;console.log(s),this.setState((function(e){var a=JSON.parse(JSON.stringify(e));return a.questions[t].correctChoice.text=s,{questions:a.questions}}))}},{key:"isFormInvalid",value:function(){if("success"!==this.state.quiz.validateStatus)return!0;for(var e=0;e<this.state.questions.length;e++){if("success"!==this.state.questions[e].question.validateStatus)return!0}for(var t=0;t<this.state.questions.length;t++)for(var a=this.state.questions[t].choices,s=0;s<a.length;s++)if("success"!==a[s].validateStatus)return!0}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={quiz:this.state.quiz.text,category:this.state.category.text,questions:this.state.questions};console.log(JSON.stringify(a)),function(e){return w({url:"/api/createquiz",method:"POST",body:JSON.stringify(e)})}(a).then((function(e){t.props.history.push("/")})).catch((function(e){401===e.status?t.props.handleLogout():c.a.error({message:"Quiz App",description:e.message||"B\u0142\u0105d"})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.questions.forEach((function(a,n){t.push(Object(s.jsx)(E,{question:a,questionNumber:n,removeQuestion:e.removeQuestion,handleQuestionChange:e.handleQuestionChange,handleChoiceChange:e.handleChoiceChange,handleRadioChange:e.handleRadioChange},n))})),Object(s.jsxs)("div",{className:"new-quiz-container",children:[Object(s.jsx)("h1",{className:"title",children:"Nowy Quiz"}),Object(s.jsx)("div",{className:"new-quiz-content",children:Object(s.jsxs)(y.a,{onSubmit:this.handleSubmit,className:"new-quiz-form",children:[Object(s.jsx)(y.a.Item,{validateStatus:this.state.quiz.validateStatus,help:this.state.quiz.errorMsg,className:"form-row",children:Object(s.jsx)(B.a,{placeholder:"Wprowad\u017a nazw\u0119 quizu",style:{fontSize:"16px"},autosize:{minRows:3,maxRows:6},name:"quiz",value:this.state.quiz.text,onChange:this.handleQuizChange})}),Object(s.jsxs)(y.a.Item,{className:"form-row",children:["Kategoria:",Object(s.jsxs)(T.a,{name:"categories",defaultValue:"geografia",value:this.state.category.text,onChange:this.handleCategoryChange,style:{width:150},children:[Object(s.jsx)(T.a.Option,{value:"geografia",children:"geografia"}),Object(s.jsx)(T.a.Option,{value:"j\u0119zyk",children:"j\u0119zyk"}),Object(s.jsx)(T.a.Option,{value:"historia",children:"historia"}),Object(s.jsx)(T.a.Option,{value:"przyroda",children:"przyroda"}),Object(s.jsx)(T.a.Option,{value:"filmy",children:"filmy"}),Object(s.jsx)(T.a.Option,{value:"ksi\u0105\u017cki",children:"ksi\u0105\u017cki"}),Object(s.jsx)(T.a.Option,{value:"wiedza og\xf3lna",children:"wiedza og\xf3lna"}),Object(s.jsx)(T.a.Option,{value:"matematyka",children:"matematyka"})]})]}),Object(s.jsx)(L.a,{className:"line"}),t,Object(s.jsx)(y.a.Item,{className:"form-row",children:Object(s.jsxs)(z.a,{type:"dashed",onClick:this.addChoice,disabled:40===this.state.questions.length,children:[Object(s.jsx)(J.a,{})," Dodaj pytanie"]})}),Object(s.jsx)(y.a.Item,{className:"form-row",children:Object(s.jsx)(z.a,{type:"primary",htmlType:"submit",size:"large",disabled:this.isFormInvalid(),onClick:this.handleSubmit,className:"create-quiz-button",children:"Utw\xf3rz quiz"})})]})})]})}}]),a}(n.Component),D=a(156),H=a.n(D),W=(a(318),a(319)),G=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={quizzes:[]},s.loadQuizList=s.loadQuizList.bind(Object(h.a)(s)),s}return Object(l.a)(a,[{key:"loadQuizList",value:function(){var e=this;w({url:"/api/getquiz",method:"GET"}).then((function(t){var a=e.state.quizzes.slice();e.setState({quizzes:a.concat(t.quizData)})})).catch((function(e){c.a.error({message:"Quiz App",description:e.message||"B\u0142\u0105d!"})}))}},{key:"componentDidMount",value:function(){this.loadQuizList()}},{key:"render",value:function(){var e=[];return this.state.quizzes.forEach((function(t,a){e.push(Object(s.jsx)(K,{quiz:t},a))})),Object(s.jsx)("div",{className:"quizzes-container",children:e})}}]),a}(n.Component);function K(e){return Object(s.jsx)(p.b,{to:{pathname:"/quiz",quiz:e.quiz},children:Object(s.jsxs)("div",{className:"quiz-view",children:[Object(s.jsx)(H.a,{className:"avatar",style:{backgroundColor:W()},children:Object(s.jsx)("span",{className:"avatar-title",children:"Quiz"})}),Object(s.jsxs)("h1",{className:"title",children:["Tytu\u0142 quizu:",e.quiz.quiz]}),Object(s.jsxs)("h3",{className:"category",children:["Kategoria:",e.quiz.category]})]})})}var Z=Object(g.g)(G);a(323);function X(e){return Object(s.jsxs)("div",{className:"question-container",children:[Object(s.jsxs)("h3",{children:[e.questionNumber+1,".",e.question.question.text]}),Object(s.jsx)("div",{children:Object(s.jsx)(z.a,{type:"default",size:"large",style:{backgroundColor:e.bgColor[4*e.questionNumber+0]},onClick:function(t){return e.handleClick(t,e.questionNumber,0)},className:"first-choice-button",children:e.question.choices[0].text})}),Object(s.jsx)("div",{children:Object(s.jsx)(z.a,{type:"default",size:"large",style:{backgroundColor:e.bgColor[4*e.questionNumber+1]},onClick:function(t){return e.handleClick(t,e.questionNumber,1)},className:"second-choice-button",children:e.question.choices[1].text})}),Object(s.jsx)("div",{children:Object(s.jsx)(z.a,{type:"default",size:"large",style:{backgroundColor:e.bgColor[4*e.questionNumber+2]},onClick:function(t){return e.handleClick(t,e.questionNumber,2)},className:"third-choice-button",children:e.question.choices[2].text})}),Object(s.jsx)("div",{children:Object(s.jsx)(z.a,{type:"default",size:"large",style:{backgroundColor:e.bgColor[4*e.questionNumber+3]},onClick:function(t){return e.handleClick(t,e.questionNumber,3)},className:"fourth-choice-button",children:e.question.choices[3].text})}),Object(s.jsx)("div",{id:"answer"+e.questionNumber})]})}var Y=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).countVotes=function(){if(n.state.totalVotes===n.state.quiz.questions.length){var e=Object(s.jsxs)("h1",{style:{color:"green",fontSize:"24px"},children:["Liczba poprawnych odpowiedzi: ",n.state.correctVotes," z ",n.state.totalVotes]});r.a.render(e,document.getElementById("end")),document.getElementById("end").scrollIntoView()}},n.state={quiz:n.props.location.quiz,bgColor:[],totalVotes:0,correctVotes:0},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e,t,a){var n=this;e.preventDefault();var i=this.state.bgColor.slice();if("chartreuse"!==i[4*t+0]&&"chartreuse"!==i[4*t+1]&&"chartreuse"!==i[4*t+2]&&"chartreuse"!==i[4*t+3]){var o=this.state.totalVotes+1;if(this.setState({totalVotes:o},this.countVotes),this.state.quiz.questions[t].choices[a].text===this.state.quiz.questions[t].correctChoice.text){var c=this.state.correctVotes+1;this.setState({correctVotes:c}),i[4*t+a]="chartreuse",this.setState({bgColor:i});var u=Object(s.jsx)("h3",{style:{color:"chartreuse"},children:"Dobrze!"});r.a.render(u,document.getElementById("answer"+t))}else{var l;i[4*t+a]="red",l=this.state.quiz.questions[t].choices.findIndex((function(e){return e.text===n.state.quiz.questions[t].correctChoice.text})),i[4*t+l]="chartreuse",this.setState({bgColor:i});var h=Object(s.jsx)("h3",{style:{color:"red"},children:"\u0179le!"});r.a.render(h,document.getElementById("answer"+t))}}}},{key:"render",value:function(){var e=this,t=[];return this.state.quiz.questions.forEach((function(a,n){t.push(Object(s.jsx)(X,{question:a,bgColor:e.state.bgColor,questionNumber:n,handleClick:e.handleClick},n))})),Object(s.jsxs)("div",{className:"quiz-container",children:[Object(s.jsxs)("div",{className:"quiz-title",children:[Object(s.jsx)("h1",{children:this.state.quiz.quiz}),Object(s.jsxs)("h3",{children:["Kategoria:",this.state.quiz.category]})]}),t,Object(s.jsx)("div",{id:"end"})]})}}]),a}(n.Component),$=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={currentUser:null,isAuthenticated:!1},s.handleLogin=s.handleLogin.bind(Object(h.a)(s)),s.handleLogout=s.handleLogout.bind(Object(h.a)(s)),s.loadCurrentUser=s.loadCurrentUser.bind(Object(h.a)(s)),c.a.config({placement:"topRight",top:100,duration:4}),s}return Object(l.a)(a,[{key:"handleLogin",value:function(){c.a.success({message:"Quiz App",description:"Jeste\u015b zalogowany."}),this.loadCurrentUser(),this.props.history.push("/")}},{key:"handleLogout",value:function(){localStorage.removeItem(C),this.setState({isAuthenticated:!1,currentUser:null}),this.props.history.push("/"),c.a.success({message:"Quiz App",description:"Jeste\u015b wylogowany."})}},{key:"componentDidMount",value:function(){this.loadCurrentUser()}},{key:"loadCurrentUser",value:function(){var e=this;w({url:"/api/currentuser",method:"GET"}).then((function(t){console.log(t.name),e.setState({currentUser:t.name,isAuthenticated:!0}),console.log("currentUser: "+e.state.currentUser)})).catch((function(t){e.setState({isAuthenticated:!1})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(m.a,{className:"app-container",children:[Object(s.jsx)(f,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,onLogout:this.handleLogout}),Object(s.jsx)(b.Content,{className:"app-content",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(g.d,{children:[Object(s.jsx)(g.b,{exact:!0,path:"/",render:function(e){return Object(s.jsx)(Z,Object(o.a)({},e))}}),Object(s.jsx)(g.b,{path:"/quiz",render:function(e){return Object(s.jsx)(Y,Object(o.a)({},e))}}),Object(s.jsx)(g.b,{path:"/login",render:function(t){return Object(s.jsx)(I,Object(o.a)({onLogin:e.handleLogin},t))}}),Object(s.jsx)(g.b,{path:"/signup",component:k}),Object(s.jsx)(Q,{authenticated:this.state.isAuthenticated,path:"/new",component:V,handleLogout:this.handleLogout})]})})})]})}}]),a}(n.Component),_=Object(g.g)($),ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,331)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(s.jsx)(p.a,{children:Object(s.jsx)(_,{})}),document.getElementById("root")),ee()}},[[324,1,2]]]);
//# sourceMappingURL=main.b8d0d76e.chunk.js.map